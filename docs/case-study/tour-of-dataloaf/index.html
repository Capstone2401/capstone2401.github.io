<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-case-study/tour-of-dataloaf" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Tour of DataLoaf | DataLoaf</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://data-loaf.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://data-loaf.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://data-loaf.com/docs/case-study/tour-of-dataloaf"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Tour of DataLoaf | DataLoaf"><meta data-rh="true" name="description" content="DataLoaf can be mentally divided into three sections:"><meta data-rh="true" property="og:description" content="DataLoaf can be mentally divided into three sections:"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://data-loaf.com/docs/case-study/tour-of-dataloaf"><link data-rh="true" rel="alternate" href="https://data-loaf.com/docs/case-study/tour-of-dataloaf" hreflang="en"><link data-rh="true" rel="alternate" href="https://data-loaf.com/docs/case-study/tour-of-dataloaf" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="DataLoaf RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="DataLoaf Atom Feed"><link rel="stylesheet" href="/assets/css/styles.a3cd95d5.css">
<script src="/assets/js/runtime~main.91d6d0a8.js" defer="defer"></script>
<script src="/assets/js/main.f6d9a5ae.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-image.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-image.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DataLoaf</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/category/case-study">Case Study</a><a class="navbar__item navbar__link" href="/docs/category/docs">Docs</a><a class="navbar__item navbar__link" href="/#team">Team</a><a href="https://github.com/capstone2401" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/case-study">Case Study</a><button aria-label="Collapse sidebar category &#x27;Case Study&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/case-study/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/case-study/product-analytics">What is Product Analytics?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/case-study/tour-of-dataloaf">Tour of DataLoaf</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/case-study/decisions-and-tradeoffs">Design Decisions and Tradeoffs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/case-study/future-work">Future Work and Conclusion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/case-study/references">References</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/docs">Docs</a><button aria-label="Expand sidebar category &#x27;Docs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/tutorials">Tutorials</a><button aria-label="Expand sidebar category &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/case-study"><span itemprop="name">Case Study</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Tour of DataLoaf</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Tour of DataLoaf</h1>
<p>DataLoaf can be mentally divided into three sections:</p>
<p><img decoding="async" loading="lazy" src="https://lh7-us.googleusercontent.com/7mNAtxZa65qAZr8OYFuTeCTdQOPKtIwzdCqSNdbzmHVNtfNVrbmC9kXPKZu2XotztESsjixH4YoUtSfgcwBEKle7ztQ14M1A0UlN_U7I6gmKQbLtXCnxtVHFc7SY-0UL7vDOzRYrG1WcWB0i" alt="" class="img_ev3q"></p>
<ul>
<li>Data collection</li>
<li>Data storage</li>
<li>Data visualization</li>
</ul>
<p>Data collection is handled by a combination of the SDK and the infrastructure that moves that data into the database. Data storage is the database itself and is the most impactful decision that was made while designing DataLoaf. Data visualization encapsulates the remaining infrastructure and a full-stack application that&#x27;s used visualize the data that answer company questions.</p>
<p>The infrastructure is deployed to an existing AWS account from the provided CLI tool. Most of this process is totally automated, with the exception of some manual steps that are needed to finish enabling HTTPS for the full-stack application. Something else that&#x27;s required to deploy the infrastructure is a domain name that the company owns. This domain name is used to access the full-stack application (which will be called the &quot;insights application&quot; for the rest of the case study).</p>
<p>The SDK is an npm package for a Node.js-based back-end server application. It can be imported just like any other npm package and is connected to your AWS infrastructure through a URL that is output after deploying with the CLI. The insights application is hosted by an AWS Elastic Compute Cloud (EC2) instance.</p>
<p>The point of this section is to set context by exploring details about the infrastructure and the role of the SDK and insights application in the context of the rest of the infrastructure.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="details-about-the-infrastructure">Details About the Infrastructure<a href="#details-about-the-infrastructure" class="hash-link" aria-label="Direct link to Details About the Infrastructure" title="Direct link to Details About the Infrastructure">​</a></h3>
<p>Event and user data are sent from the SDK to an AWS API Gateway. The API Gateway forwards this information to one of two AWS Lambda functions. One function is responsible for processing new entries and the other handles updates to existing entries. Event data is immutable, so only user attributes can be updated.</p>
<p>The AWS Lambda function that processes new data will format and forward the data to one of two Amazon Data Firehose streams. Events go to one Firehose instance and users to go the other. Each Firehose stream will send their data to respective Amazon Simple Storage Service (S3) buckets. Event data is collected in one bucket and user data is collected in a second bucket. From there, the data is batch-copied to the database in a single transaction, which happens once every three minutes.</p>
<p>Amazon Redshift is the database that was chosen. There are two tables that are created when the infrastructure is being provisioned with the CLI tool. One <code>events</code> table and one <code>users</code> table.</p>
<p>The <code>events</code> table has five columns:</p>
<ul>
<li><code>event_id</code> to uniquely identify the event from the set</li>
<li><code>event_name</code> is the name given to the event in the company&#x27;s application</li>
<li><code>user_id</code> is the ID of the user who was associated with the event</li>
<li><code>event_created</code> is a timestamp when the event was triggered</li>
<li><code>event_attributes</code> is a JSON object that contains the key-value attributes sent with the event</li>
</ul>
<p>The <code>users</code> table has two columns:</p>
<ul>
<li><code>user_id</code> is the ID of the user&#x27;s profile</li>
<li><code>user_attributes</code> is a JSON object that contains the key-value attributes associated with the user</li>
</ul>
<p>The infrastructure of the data visualization component is made of two pieces: An AWS Elastic Load Balancer (ELB) and an Amazon Elastic Cloud Computer (EC2) instance. The ELB is used to interface with the Amazon Certificate management service to issue a TLS certificate to the provided web domain during the infrastructure deployment. It&#x27;s also used to forward requests that are made to that domain to the EC2 instance.</p>
<p>The EC2 instance hosts the back and front-ends of the insights application. A Docker container of Nginx is used as a web server that serves the React front-end application. It also forwards requests to the Express back-end. The express back-end is built into its own Docker container during the infrastructure deployment.</p>
<p>All requests from the insights application are handled by the back-end. When a change is made to the selections on the front-end for creating an insights graph, a request containing that information is sent to the back-end. Aggregated calculations are performed when the back-end queries the Redshift database.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="insights-application-for-data-visualization">Insights Application for Data Visualization<a href="#insights-application-for-data-visualization" class="hash-link" aria-label="Direct link to Insights Application for Data Visualization" title="Direct link to Insights Application for Data Visualization">​</a></h3>
<p>(Intended content: information about the interface of our insights application with screenshots. Cover the features that we supported, including custom events, which aggregation types, filters and date ranges.)</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/case-study/tour-of-dataloaf.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/case-study/product-analytics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">What is Product Analytics?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/case-study/decisions-and-tradeoffs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Design Decisions and Tradeoffs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#details-about-the-infrastructure" class="table-of-contents__link toc-highlight">Details About the Infrastructure</a></li><li><a href="#insights-application-for-data-visualization" class="table-of-contents__link toc-highlight">Insights Application for Data Visualization</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/getting-started">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="#" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="#" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="#" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/capstone2401" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 DataLoaf</div></div></div></footer></div>
</body>
</html>